!function(){var t=function(t,e){return void 0==t||null==t?e:t},e=function(e,a){e.hasError=!1,e.delimiter=",",e.data=t(e.data,[]),e.selected=t(e.selected,[]),e.allowOutsideDataSet=t(e.allowOutsideDataSet,!1),e.sameInput=t(e.sameInput,!1),e.default_input={text:""},e.theme=t(e.theme,"default"),e.typehead=t(e.typehead,!0),e.check_data=function(t,e){return a("filter")(t,function(t,a){return t.text===e})[0]},e.on_input_keyup=function(t){var a="";return void 0!=e.input&&(a=e.input.replace(e.delimiter,"")),void 0!=e.input&&e.input.indexOf(e.delimiter)>-1?void(""!=a&&e.processor(a)):13==t.keyCode?void(""!=a&&e.processor(a)):void 0},e.update=function(t){e.selected.push(angular.copy(t)),e.input="",e.hasError=!1,e.$emit("tagAdded",t)},e.return_value=function(t,a){return void 0==t?(e.default_input.text=a,e.default_input):t},e.processor=function(t){var a=e.check_data(e.data,t),r=e.check_data(e.selected,t);return e.allowOutsideDataSet&&e.sameInput?void e.update(e.return_value(a,t)):e.allowOutsideDataSet&&!e.sameInput?void(void 0==r?e.update(e.return_value(a,t)):e.hasError=!0):e.allowOutsideDataSet||e.sameInput?!e.allowOutsideDataSet&&e.sameInput?void(void 0!=a?e.update(a):e.hasError=!0):(e.hasError=!0,void console.error("Error, Existing before in our output , or not among data set")):void(void 0!=a&&void 0==r?e.update(a):e.hasError=!0)},e.remove=function(t){e.selected=a("filter")(e.selected,function(e,a){return e!==t}),e.$emit("tagRemoved",t)}},a=function(){return{restrict:"E",scope:{type:"@",theme:"@",data:"=",selected:"=",sameInput:"=",allowOutsideDataSet:"=",typehead:"="},templateUrl:function(t,e){return"templates/"+e.type+".html"},controller:e,link:function(t,e,a){}}},r=function(){return{restrict:"A",link:function(t,e,a){t.$watch(a.focusMe,function(t){t===!0&&e[0].focus()})}}};angular.module("angular-tag",["ngAnimate"]).directive("tagMe",a).directive("focusMe",r)}();