!function(){var t=function(t,e){return void 0==t||null==t?e:t},e=function(e,r){e.hasError=!1,e.delimiter=",",e.data=t(e.data,[]),e.selected=t(e.selected,[]),e.allowOutsideDataSet=t(e.allowOutsideDataSet,!1),e.sameInput=t(e.sameInput,!1),e.default_input={text:""},e.theme=t(e.theme,"default"),e.check_data=function(t,e){return r("filter")(t,function(t,r){return t.text===e})[0]},e.on_input_keyup=function(t){var r="";return void 0!=e.input&&(r=e.input.replace(e.delimiter,"")),void 0!=e.input&&e.input.indexOf(e.delimiter)>-1?void(""!=r&&e.processor(r)):13==t.keyCode?void(""!=r&&e.processor(r)):void 0},e.update=function(t){e.selected.push(angular.copy(t)),e.input="",e.hasError=!1,e.$emit("tagAdded",t)},e.return_value=function(t,r){return void 0==t?(e.default_input.text=r,e.default_input):t},e.processor=function(t){var r=e.check_data(e.data,t),a=e.check_data(e.selected,t);return e.allowOutsideDataSet&&e.sameInput?void e.update(e.return_value(r,t)):e.allowOutsideDataSet&&!e.sameInput?void(void 0==a?e.update(e.return_value(r,t)):e.hasError=!0):e.allowOutsideDataSet||e.sameInput?!e.allowOutsideDataSet&&e.sameInput?void(void 0!=r?e.update(r):e.hasError=!0):(e.hasError=!0,void console.error("Error, Existing before in our output , or not among data set")):void(void 0!=r&&void 0==a?e.update(r):e.hasError=!0)},e.remove=function(t){e.selected=r("filter")(e.selected,function(e,r){return e!==t}),e.$emit("tagRemoved",t)}},r=function(){return{restrict:"E",scope:{type:"@",theme:"@",data:"=",selected:"=",sameInput:"=",allowOutsideDataSet:"="},templateUrl:function(t,e){return"templates/"+e.type+".html"},controller:e,link:function(t,e,r){}}},a=function(){return{restrict:"A",link:function(t,e,r){t.$watch(r.focusMe,function(t){t===!0&&e[0].focus()})}}};angular.module("angular-tag",[]).directive("tagMe",[r]).directive("focusMe",[a])}();